<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>闭包</title>
</head>

<body>
    <script>
        /* 闭包(closure)：
        闭包从表现形式上看：就是外部函数里面声明了内部函数(包括参数)，
        内部函数引用了外部函数中的局部变量，当外部函数执行完毕以后
        该局部变量不被释放，可以留在内部中被以后引用        
        */
        /* （1）立即函数：函数只需要用一次调用一次，不给函数起名字的时候可用立即函数 */
        (function (name) {
            console.log(name);
        })("lisi")


        /* （2）闭包 */
        /* 使用闭包，局部变量使用完毕后未被释放 */
        function test2() {
            var b = 5;
            function fn() {
                return b + 6;
            }
            return fn;
        }
        var fn2 = test2();
        console.log(fn2());//11


        /* 不使用闭包，局部变量使用完毕会被释放 */
        function test1() {
            var a = 5;
        }
        test1();
        console.log(a); // a is not defined;

    </script>

</body>

</html>