## ä¼ ç»Ÿé¡¹ç›®æ­å»º
MVCå¼€å‘æ¨¡å¼ï¼š
ï¼ˆ1ï¼‰Modelï¼šæ¨¡å‹(æ•°æ®æ¨¡å‹)â€”â€”â€”â€”è·Ÿæ•°æ®æœ‰å…³çš„å†…å®¹
ã€è¯¥é¡¹ç›®ä¸­æŠŠå¯¹æ•°æ®åº“çš„æ“ä½œç§°ä¸ºæ•°æ®æ¨¡å‹ï¼Œmodelsæ–‡ä»¶å¤¹åªæ“ä½œæ•°æ®åº“ç›¸å…³ã€‘
ï¼ˆ2ï¼‰Viewï¼šè§†å›¾â€”â€”â€”â€”å‰ç«¯é¡µé¢
ï¼ˆ3ï¼‰Controllerï¼šæ§åˆ¶å™¨â€”â€”â€”â€”æµç¨‹æ§åˆ¶ä»£ç 

## ä¸€å®šè¦æ¨¡å—åŒ–å¼€å‘æ€æƒ³ï¼Œåˆ«æŠŠä¸œè¥¿ä¹±èµ·å…«ç³Ÿå†™åœ¨ä¸€èµ·

# ï¼ˆä¸€ï¼‰åˆ›å»ºmyblogé¡¹ç›®ç›®å½•ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–é¡¹ç›®
1.åˆå§‹åŒ–åŒ…ï¼šnpm init -y
2.å®‰è£…Koaæ¡†æ¶ï¼šnpm i koa
3.åˆ›å»ºé¡¹ç›®å¯åŠ¨æ–‡ä»¶app.jsï¼šå¼•å…¥Koaæ¡†æ¶ç›¸å…³é…ç½®
åªåšé¡¹ç›®å¯åŠ¨ä¸€ç¬é—´çš„ä¸œè¥¿ï¼Œä¾‹å¦‚å¼•ç”¨äº†ä»€ä¹ˆåŒ…ï¼Œæˆ–è€…åšäº†ä»€ä¹ˆåˆå§‹åŒ–çš„æ“ä½œ
ä¸éœ€è¦åœ¨æ¯ä¸€ä¸ªæ–‡ä»¶ä¸­éƒ½å¼•å…¥Koaçš„å†…å®¹ï¼Œåªéœ€å¼•å…¥ç›¸åº”æ–‡ä»¶éœ€è¦çš„å†…å®¹å³å¯
ã€ä¸­é—´ä»¶çš„ä½¿ç”¨éƒ½å»npm.jså®˜ç½‘ã€‘
# ï¼ˆäºŒï¼‰å¯¹é¡¹ç›®è¿›è¡Œæ¶æ„ï¼šæ¨¡å—åŒ–æ€æƒ³
æ–°å»ºæ–‡ä»¶å¤¹ï¼š
ï¼ˆä¸€ï¼‰
1.routesï¼šè·¯ç”±æ–‡ä»¶å¤¹ â€”â€”> index.js:è·¯ç”±ä¸»æ–‡ä»¶
2.å®‰è£…koa-routerä¸­é—´ä»¶å¹¶é…ç½®
ï¼ˆ1ï¼‰index.js:â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ã€åç»­è¿˜ä¼šæ‹†è§£ã€‘
1> å¼•å…¥koa-routerä¸­é—´ä»¶:
2> å¹¶å°†å…¶å®ä¾‹å¯¹è±¡å¯¼å‡º:modules.exports = router
ï¼ˆ2ï¼‰app.js
1> å¼•å…¥å…¶å®ä¾‹å¯¹è±¡ï¼Œconst router = require('./routes/index.js')//index.jså¯çœç•¥
2> å°†koa-routeræœ‰å…³appçš„é…ç½®æ”¾å…¥app.jsä¸­â€”â€”â€”â€”â€”â€”æœ€å¥½å°†è·¯ç”±çš„é…ç½®æ”¾åœ¨æœ€ä¸‹é¢
ï¼ˆæˆ‘æ— è¯­äº†è¿™æ¬¡å°†koa-bodyparserçš„é…ç½®æ”¾åœ¨è·¯ç”±é…ç½®ä¸‹é¢äº†ï¼Œç„¶åè¿›å…¥è·¯ç”±å»æ‹¿è¡¨å•è¿”å›çš„æ•°æ®ä¸€ç›´æ‹¿ä¸åˆ°ğŸ¤¯ï¼‰
app
  .use(router.routes())
  .use(router.allowedMethods());
ï¼ˆäºŒï¼‰
1.controllersï¼šæ§åˆ¶å™¨æ–‡ä»¶å¤¹(ğŸä¸€èˆ¬ä¸€ä¸ªæ§åˆ¶å™¨å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨)
å°†æ§åˆ¶å™¨æ–‡ä»¶å¯¼å‡ºï¼Œåœ¨ç”¨åˆ°è¯¥æ§åˆ¶å™¨æ–‡ä»¶çš„è·¯ç”±æ–‡ä»¶ä¸­å¯¼å…¥
2.viewsï¼šè§†å›¾æ–‡ä»¶å¤¹
2-1.å®‰è£…koa-viewsä¸­é—´ä»¶
2-2.å®‰è£…ejsæ¨¡æ¿å¼•æ“(ä¾èµ–äºkoa-viewsä¸­é—´ä»¶)
2-3.koa-viewsä¸­é—´ä»¶ã€ejsæ¨¡æ¿å¼•æ“åº”é…ç½®åœ¨app.jsä¸­
3.modelsï¼šæ•°æ®åº“æ–‡ä»¶å¤¹
ï¼ˆä¸‰ï¼‰
1.publicï¼šé™æ€èµ„æºæ–‡ä»¶å¤¹
2.åˆ›å»ºå­æ–‡ä»¶å¤¹ï¼šstylesheetsã€imagesã€javascripts
2.å®‰è£…koa-staticä¸­é—´ä»¶
3.koa-staticä¸­é—´ä»¶åº”é…ç½®åœ¨app.jsä¸­

# ç‰‡æ®µä»£ç çš„å¤„ç†
å°†å…±æœ‰çš„éƒ¨åˆ†çš„bodyå†…çš„å†…å®¹(ä¸æ˜¯æ•´ä¸ªhtmlç»“æ„)å­˜åˆ°nav.ejsä¸­
åœ¨åˆ«çš„ejsæ–‡ä»¶ä¸­å¼•å…¥çš„æ—¶å€™ï¼Œå°†å…¶å½“ä½œå˜é‡å¼•å…¥: <%- include('nav') %>

# é…ç½®å­è·¯ç”±
router/index.jsæ–‡ä»¶ä¸­ï¼š
const user = require("./user");
const blog = require("./blog");

router.use('/user', user.routes(), user.allowedMethods())
router.use('/blog', blog.routes(), blog.allowedMethods())
router/user.jsæ–‡ä»¶ã€router/blog.jsæ–‡ä»¶ä¸­ï¼šè¿›è¡Œç›¸å…³æ“ä½œå³å¯
é…ç½®å­è·¯ç”±åè®¿é—®è·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œä¾‹å¦‚http://localhost:3000/user/login
è®°å¾—è¦æŠŠç™»å½•å’Œæ³¨å†Œé¡µé¢ejsæ–‡ä»¶çš„postè¯·æ±‚çš„è·¯å¾„ä¹ŸåŠ ä¸Šå‰ç¼€
å› ä¸ºå…¶è·¯ç”±è¡¨ä¸­è·¯ç”±å·²ç»ä¿®æ”¹